this.VirtualList=function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var i=Array.prototype.slice,n=React.createClass({displayName:"VirtualList",propTypes:{content:React.PropTypes.array.isRequired,windowSize:React.PropTypes.number},getDefaultProps:function(){return{windowSize:10}},getInitialState:function(){return{winStart:0,top:0,bottom:null,scrollbarTop:0,scrollbarHeight:0}},componentDidMount:function(){this.scroll(0)},render:function(){var t=this.props.content,e=t.slice(this.state.winStart,this.state.winStart+this.props.windowSize),o={position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"hidden"},i={position:"absolute",top:"number"==typeof this.state.top?-this.state.top:null,bottom:"number"==typeof this.state.bottom?-this.state.bottom:null,left:0,right:0},n={position:"absolute",top:this.state.scrollbarTop,height:this.state.scrollbarHeight,right:1,width:7,backgroundColor:"#000",opacity:.5,borderRadius:10};return React.createElement("div",{className:"VirtualList",style:o,onWheel:this.onWheel},React.createElement("div",{ref:"content",className:"VirtualList-content",style:i},e.map(function(t,e){return React.createElement("div",{key:e,className:"VirtualList-item"},React.addons.cloneWithProps(this.props.children,{content:t}))},this)),React.createElement("div",{className:"VirtualList-scrollbar",style:n,onMouseDown:this.onScrollStart}))},scroll:function(t){var e,o,n=this.props.content,s=Math.min(this.props.windowSize,this.props.content.length),r=n.length-s,l=this.state.winStart,a=this.getDOMNode(),h=this.refs.content.getDOMNode(),c=i.call(h.childNodes),u=a.clientHeight,p=h.offsetHeight,f=this.state.top,d=this.state.bottom;if(t>0)for(null!==d&&(f=h.offsetHeight-a.offsetHeight-d,d=null),l===r&&t>p-u-f&&(t=Math.max(0,p-u-f)),f+=t,e=0,o=c.length;o>e&&l!==r&&f>c[e].offsetTop+c[e].offsetHeight;e++)l++,f-=c[e].offsetHeight;else if(0>t)for(null!==f&&(d=h.offsetHeight-a.offsetHeight-f,f=null),0===l&&-t>p-u-d&&(t=-Math.max(0,p-u-d)),d+=-t,e=c.length-1;e>=0&&0!==l&&d>c[e].offsetHeight;e--)l--,d-=c[e].offsetHeight;var m=p/c.length,g=m*n.length,S=u/g,v=Math.min(u,Math.max(20,Math.round(u*S))),b=g-u,H=null!==f?l*m+f:l*m+(p-u-d),w=H/b,y=Math.round(u-v)*w;this.setState({winStart:l,top:f,bottom:d,scrollbarTop:y,scrollbarHeight:v})},onWheel:function(t){t.preventDefault(),t.stopPropagation(),0!==t.deltaY&&this.scroll(t.deltaY)},onScrollStart:function(t){this.clientY=t.clientY,document.addEventListener("mousemove",this._onScroll=this.onScroll.bind(this)),document.addEventListener("mouseup",this._onScrollStop=this.onScrollStop.bind(this))},onScroll:function(t){if(t.preventDefault(),this.clientY!==t.clientY){var e=this.props.content.length*this.averageItemHeight(),o=this.getDOMNode().clientHeight,i=t.clientY-this.clientY,n=Math.round(i/o*e);this.scroll(n),this.clientY=t.clientY}},onScrollStop:function(){this.clientY=null,document.removeEventListener("mousemove",this._onScroll),document.removeEventListener("mouseup",this._onScrollStop)},averageItemHeight:function(){var t=this.refs.content.getDOMNode();return t.offsetHeight/t.childNodes.length}});t.exports=n}]);