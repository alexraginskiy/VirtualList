this.VirtualList=function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var i=Array.prototype.slice,n=React.createClass({displayName:"VirtualList",propTypes:{content:React.PropTypes.array.isRequired,windowSize:React.PropTypes.number},getDefaultProps:function(){return{windowSize:10}},getInitialState:function(){return{winStart:0,top:0,bottom:null,scrollbarTop:0,scrollbarHeight:0}},componentDidMount:function(){this.scroll(0)},render:function(){var t=this.props.content,e=t.slice(this.state.winStart,this.state.winStart+this.props.windowSize),o={position:"absolute",top:0,right:0,bottom:0,left:0,overflowY:"hidden"},i={position:"absolute",top:"number"==typeof this.state.top?-this.state.top:null,bottom:"number"==typeof this.state.bottom?-this.state.bottom:null,left:0,right:0},n={position:"absolute",top:this.state.scrollbarTop,height:this.state.scrollbarHeight,right:1,width:7,backgroundColor:"#000",opacity:.5,borderRadius:10};return React.createElement("div",{className:"VirtualList",style:o,onWheel:this.onWheel},React.createElement("div",{ref:"content",className:"VirtualList-content",style:i},e.map(function(t,e){return React.createElement("div",{key:e,className:"VirtualList-item"},React.addons.cloneWithProps(this.props.children,{content:t}))},this)),React.createElement("div",{className:"VirtualList-scrollbar",style:n,onMouseDown:this.onScrollStart}))},scroll:function(t){var e,o,n,s=this.props.content,r=Math.min(this.props.windowSize,this.props.content.length),l=s.length-r,a=this.state.winStart,h=this.getDOMNode(),c=this.refs.content.getDOMNode(),u=i.call(c.childNodes),p=h.clientHeight,f=c.offsetHeight,d=this.state.top,m=this.state.bottom;if(-f>t)e=Math.round((-t-d)/this.averageItemHeight()),a=Math.max(0,a-e),d=0,m=null;else if(t>f)e=Math.round((t-f-d)/this.averageItemHeight()),a=Math.min(l,a+r+e),d=0,m=null;else if(0>t)for(null!==d&&(m=c.offsetHeight-h.offsetHeight-d,d=null),0===a&&-t>f-p-m&&(t=-Math.max(0,f-p-m)),m+=-t,o=u.length-1;o>=0&&0!==a&&m>u[o].offsetHeight;o--)a--,m-=u[o].offsetHeight;else if(t>0)for(null!==m&&(d=c.offsetHeight-h.offsetHeight-m,m=null),a===l&&t>f-p-d&&(t=Math.max(0,f-p-d)),d+=t,o=0,n=u.length;n>o&&a!==l&&d>u[o].offsetTop+u[o].offsetHeight;o++)a++,d-=u[o].offsetHeight;var g=f/u.length,v=g*s.length,S=p/v,b=Math.min(p,Math.max(20,Math.round(p*S))),H=v-p,M=null!==d?a*g+d:a*g+(f-p-m),w=M/H,y=Math.round(p-b)*w;this.setState({winStart:a,top:d,bottom:m,scrollbarTop:y,scrollbarHeight:b})},onWheel:function(t){t.preventDefault(),t.stopPropagation(),0!==t.deltaY&&this.scroll(t.deltaY)},onScrollStart:function(t){this.clientY=t.clientY,document.addEventListener("mousemove",this.onScroll),document.addEventListener("mouseup",this.onScrollStop)},onScroll:function(t){if(t.preventDefault(),this.clientY!==t.clientY){var e=this.props.content.length*this.averageItemHeight(),o=this.getDOMNode().clientHeight,i=t.clientY-this.clientY,n=Math.round(i/o*e);this.scroll(n),this.clientY=t.clientY}},onScrollStop:function(){this.clientY=null,document.removeEventListener("mousemove",this.onScroll),document.removeEventListener("mouseup",this.onScrollStop)},averageItemHeight:function(){var t=this.refs.content.getDOMNode();return t.offsetHeight/t.childNodes.length}});t.exports=n}]);